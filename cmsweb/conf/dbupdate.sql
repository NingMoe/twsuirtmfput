//2005.10.23之后的CMS数据库系统都可以用本SCRIPT文件更新，以下所有SCRIPT语句都可以被反复执行，不会影响数据库数据一致性
//前6个字符的格式：1表示更新，0表示不更新。第一位数字是SQL数据库，第三位数字是cms.mdb，第五位数字是blank.mdb。中间以,分隔，以:结束

//版本：3.03  日期：2005.10.23

1,1,0:2005.10.23::ALTER TABLE CMS_RIGHTS ALTER COLUMN QX_QUERY_WHERE nvarchar (120) NULL

//2005.10.30:: ***手动设置：查看CMS_EMPLOYEE表单中的密码字段（EMP_PASS）的值是否乱码，若是乱码则必须清空当前所有人员密码，因为密码加密和编码机制已经改变

1,1,0:2005.11.05::ALTER TABLE CMS_EMPLOYEE ADD EMP_LASTNODE_ID nvarchar (20) NULL
1,1,1:2005.11.08::UPDATE CMS_TABLE_DEFINE SET CD_IS_NOINPUT=1 WHERE (CD_RESID = -1) AND (CD_COLNAME = 'EMP_PASS')
1,1,1:2005.11.08::ALTER TABLE CMS_RESOURCE ADD RES_SHOW_CRT tinyint NULL
1,1,1:2005.11.08::ALTER TABLE CMS_RESOURCE ADD RES_SHOW_EDT tinyint NULL
1,1,1:2005.11.11::ALTER TABLE CMS_TABLE_INPUT ADD CI_COLRESTYPE tinyint NULL
1,1,1:2005.11.13::ALTER TABLE CMS_RESOURCE ADD RES_RECORD_POPUP tinyint NULL
1,1,1:2005.11.15::ALTER TABLE CMS_RELATED_TABLE ADD RT_SHOWORDER int NULL
1,1,1:2005.11.17::ALTER TABLE CMS_RESOURCE ADD RES_DOCFLOW_RESID tinyint NULL
1,1,1:2005.11.17::ALTER TABLE CMS_TABLE_DEFINE ADD CD_IS_UNITE_UNIQUE tinyint NULL
1,1,1:2005.11.20::ALTER TABLE CMS_TABLE_INPUT ADD CI_READONLY tinyint NULL
1,1,1:2005.11.25::ALTER TABLE CMS_RESOURCE ADD RES_DEL_SUBRECORDS tinyint NULL

//2005.11.28:: ***手动设置：将表单CMS_RELATED_TABLE内所有记录的字段RT_SHOWORDER的值从1开始递增

1,1,1:2005.12.06::ALTER TABLE CMS_COL_CALCULATION ADD CDJ_CALORDER int NULL

//2005.12.06:: ***手动设置：将表单CMS_COL_CALCULATION内所有记录的CDJ_CALORDER字段值从1开始递增编号

1,1,1:2005.12.08::ALTER TABLE CMS_COL_CALCULATION DROP COLUMN CDJ_FMLRIGHT_RESID
1,1,1:2005.12.08::ALTER TABLE CMS_COL_CALCULATION DROP COLUMN CDJ_FORMULA_TYPE
1,1,1:2005.12.11::ALTER TABLE CMS_COL_CALCULATION ADD CDJ_CALTIME tinyint NULL
1,1,1:2005.12.13::UPDATE CMS_RESOURCE SET HOST_ID=0 WHERE ID=-1
1,0,0:2005.12.14::ALTER TABLE CMS_COL_CALCULATION ALTER COLUMN CDJ_FMLRIGHT_EXPR nvarchar (1000) NULL
1,0,0:2005.12.14::ALTER TABLE CMS_COL_CALCULATION ALTER COLUMN CDJ_FORMULA_DESC nvarchar (1000) NULL
0,1,1:2005.12.14::ALTER TABLE CMS_COL_CALCULATION ALTER COLUMN CDJ_FMLRIGHT_EXPR ntext NULL
0,1,1:2005.12.14::ALTER TABLE CMS_COL_CALCULATION ALTER COLUMN CDJ_FORMULA_DESC ntext NULL

//2005.12.15:: ***手动设置：必须手工重做所有计算公式，因为计算公式的格式已经改变

1,1,0:2005.12.16::INSERT INTO CMS_TABLE_DEFINE (CD_ID, CD_RESID, CD_COLNAME, CD_DISPNAME, CD_TYPE, CD_SIZE, CD_IS_NOINPUT, CD_IS_SYSFIELD) VALUES(188068339575, -1, 'EMP_SMTPSERVER', 'SMTP服务器', 1, 30, 1, 1)
1,1,0:2005.12.16::INSERT INTO CMS_TABLE_DEFINE (CD_ID, CD_RESID, CD_COLNAME, CD_DISPNAME, CD_TYPE, CD_SIZE, CD_IS_NOINPUT, CD_IS_SYSFIELD) VALUES(188068339570, -1, 'EMP_SMTPACCOUNT', 'SMTP校验帐号', 1, 50, 1, 1)
1,1,0:2005.12.16::INSERT INTO CMS_TABLE_DEFINE (CD_ID, CD_RESID, CD_COLNAME, CD_DISPNAME, CD_TYPE, CD_SIZE, CD_IS_NOINPUT, CD_IS_SYSFIELD) VALUES(188068356965, -1, 'EMP_SMTPPASS', 'SMTP校验密码', 1, 20, 1, 1)
1,1,0:2005.12.16::INSERT INTO CMS_TABLE_SHOW (CS_RESID, CS_COLNAME, CS_SHOW_ORDER, CS_SHOW_WIDTH, CS_SHOW_ENABLE) VALUES(-1, 'EMP_SMTPSERVER', 100, 200, 0)
1,1,0:2005.12.16::INSERT INTO CMS_TABLE_SHOW (CS_RESID, CS_COLNAME, CS_SHOW_ORDER, CS_SHOW_WIDTH, CS_SHOW_ENABLE) VALUES(-1, 'EMP_SMTPACCOUNT', 101, 300, 0)
1,1,0:2005.12.16::INSERT INTO CMS_TABLE_SHOW (CS_RESID, CS_COLNAME, CS_SHOW_ORDER, CS_SHOW_WIDTH, CS_SHOW_ENABLE) VALUES(-1, 'EMP_SMTPPASS', 102, 120, 0)
1,1,0:2005.12.16::ALTER TABLE CMS_EMPLOYEE ADD EMP_SMTPSERVER nvarchar (30) NULL
1,1,0:2005.12.16::ALTER TABLE CMS_EMPLOYEE ADD EMP_SMTPACCOUNT nvarchar (50) NULL
1,1,0:2005.12.16::ALTER TABLE CMS_EMPLOYEE ADD EMP_SMTPPASS nvarchar (20) NULL
1,1,0:2005.12.17::INSERT INTO CMS_EMPLOYEE (ID, HOST_ID, SHOW_ORDER, EMP_ID, EMP_NAME, EMP_PASS, EMP_TYPE) VALUES(116297857287, 0, 3, 'sysuser', '系统内部用户', '357EB3237FAD7DBDD7D06C4660FAB17A', 0)
1,1,1:2005.12.20::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_ROWCOLOR1_WHERE nvarchar (250) NULL
1,1,1:2005.12.20::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_ROWCOLOR2_WHERE nvarchar (250) NULL
1,1,1:2005.12.20::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_ROWCOLOR3_WHERE nvarchar (250) NULL

//数据库更新日志：2005.12.26 已更新：建工库、玉佛寺库

1,1,1:2005.12.27::ALTER TABLE CMS_COL_CALCULATION ADD CDJ_TYPE tinyint NULL
1,1,1:2005.12.27::ALTER TABLE CMS_COL_CALCULATION ADD CDJ_VERIFY_TIP nvarchar (100) NULL
1,1,1:2005.12.27::DROP INDEX CMS_COL_CALCULATION.IX_CMS_COL_CALCULATION
1,1,1:2005.12.27::DROP INDEX CMS_COL_CALCULATION.IX_CMS_COL_CALCULATION_1
1,1,1:2005.12.27::DROP INDEX CMS_COL_CALCULATION.IX_CMS_COL_CALCULATION_2
1,1,1:2005.12.27::DROP INDEX CMS_COL_CALCULATION.IX_CMS_COL_CALCULATION_3
1,1,1:2005.12.27::CREATE INDEX [IX_CMS_COL_CALCULATION] ON [dbo].[CMS_COL_CALCULATION]([CDJ_AIID], [CDJ_CALORDER], [CDJ_TYPE]) ON [PRIMARY]

1,0,0:2006.01.04::ALTER TABLE CMS_RIGHTS ADD QX_PROJVAL bigint NULL
0,1,0:2006.01.04::ALTER TABLE CMS_RIGHTS ADD QX_PROJVAL float NULL
1,1,1:2006.01.06::ALTER TABLE CMS_TABLE_INPUT ADD CI_CTRLPROP ntext NULL
1,1,1:2006.01.08::ALTER TABLE CMS_TABLE_INPUT ALTER COLUMN CI_TEXT nvarchar (250) NULL
1,0,0:2006.01.09::ALTER TABLE CMS_RIGHTS ALTER COLUMN QX_ACCESS_COLS nvarchar (1000) NULL
0,1,0:2006.01.09::ALTER TABLE CMS_RIGHTS ALTER COLUMN QX_ACCESS_COLS ntext NULL
1,1,0:2006.01.09::ALTER TABLE CMS_RIGHTS ALTER COLUMN QX_QUERY_WHERE nvarchar (250) NULL
1,1,1:2006.01.10::ALTER TABLE CMS_TABLE_DEFINE ADD CD_IS_UNMODIFIED tinyint NULL
//2006.01.10:: ***手动设置：更改sysuser的登录密码： UPDATE CMS_EMPLOYEE SET EMP_PASS='357EB3237FAD7DBDD7D06C4660FAB17A' WHERE EMP_ID='sysuser'
1,1,1:2006.01.10::ALTER TABLE CMS_TABLE_DEFINE ADD CD_LOCKVALUE nvarchar (30) NULL
1,1,1:2006.01.10::ALTER TABLE CMS_TABLE_DEFINE ALTER COLUMN CD_LOCKVALUE nvarchar (80) NULL
//2006-05-11 取消 1,1,1:2006.01.10::ALTER TABLE CMS_TABLE_INPUT ADD CI_NOFORMULA tinyint NULL
1,1,0:2006.01.11::UPDATE CMS_TABLE_DEFINE SET CD_IS_UNIQUE=1, CD_IS_NONULL=1, CD_IS_UNEDITABLE=1 WHERE CD_RESID=-1 AND CD_COLNAME='EMP_ID'
1,1,0:2006.01.11::UPDATE CMS_TABLE_DEFINE SET CD_IS_NONULL=1 WHERE CD_RESID=-1 AND CD_COLNAME='EMP_NAME'
1,0,0:2006.01.11::ALTER TABLE CMS_RIGHTS ALTER COLUMN QX_ACCESS_COLS nvarchar (500) NULL

//2006-01-12:: ***手动设置：更改了列字段权限和行记录权限的定义，所以必须清空原列字段和行记录权限定义信息 UPDATE CMS_RIGHTS SET QX_ACCESS_COLS='', QX_QUERY_WHERE=''

//注释：Disable多语言和个性化主界面设置
1,1,1:2006.01.15::UPDATE CMS_TABLE_DEFINE SET CD_IS_NOINPUT=1 WHERE CD_RESID=-1 AND CD_COLNAME='EMP_LANGUAGE'
1,1,1:2006.01.15::UPDATE CMS_TABLE_DEFINE SET CD_IS_NOINPUT=1 WHERE CD_RESID=-1 AND CD_COLNAME='EMP_MAINPAGE'

1,1,1:2006.01.17::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_TABLE nvarchar (30) NULL
1,1,1:2006.01.17::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_ORDERBY_COL nvarchar (30) NULL
1,1,1:2006.01.17::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_COL_EMAIL nvarchar (30) NULL
1,1,1:2006.01.17::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_COL_HANDPHONE nvarchar (30) NULL
1,1,1:2006.01.17::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_COL_REFERENCE nvarchar (30) NULL
1,1,1:2006.01.17::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_STATUS_EMAIL nvarchar (30) NULL
1,1,1:2006.01.17::ALTER TABLE CMS_RESOURCE ALTER COLUMN RES_STATUS_HANDPHONE nvarchar (30) NULL
1,0,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD RESID bigint NULL
0,1,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD RESID float NULL
1,0,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD RELID bigint NULL
0,1,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD RELID float NULL
1,1,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD CRTID nvarchar (20) NULL
1,1,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD CRTTIME datetime  NULL
1,1,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD EDTID nvarchar (20) NULL
1,1,0:2006.01.20::ALTER TABLE CMS_EMPLOYEE ADD EDTTIME datetime  NULL
1,1,0:2006.01.20::UPDATE CMS_EMPLOYEE SET RESID=1300
1,1,0:2006.01.20::UPDATE CMS_EMPLOYEE SET RELID=0

//数据库更新日志：2006.01.24 已更新：玉佛寺服务器

1,1,1:2006.01.25::ALTER TABLE CMS_COL_CALCULATION ADD CDJ_CALOCCASION int NULL

//2006.01.25:: ***手动设置：绝对只能操作一次(否则丢失现有设置信息)：初始化计算公式中计算时机的值。SQL语句：UPDATE CMS_COL_CALCULATION SET CDJ_CALOCCASION=63

1,1,1:2006.01.26::ALTER TABLE CMS_COL_CALCULATION ADD CDJ_SCHEDULE nvarchar (100) NULL

1,1,1:2006.02.02::ALTER TABLE CMS_TABLE_DEFINE ALTER COLUMN CD_VALUE nvarchar (250) NULL
//1,0,0:2006.02.11::CREATE TABLE [dbo].[CMS_BIZALLOT] (	[ALOT_ID] [bigint] NOT NULL ,	[ALOT_NAME] [nvarchar] (30) NOT NULL ,	[ALOT_TYPE] [int] NULL ,	[ALOT_ENABLE] [int] NULL ,	[ALOT_COMMENTS] [nvarchar] (250) NULL ,	[ALOTCLT_RESID] [bigint] NULL ,	[ALOTCLT_KHCODE] [nvarchar] (30) NULL ,	[ALOTCLT_KHNAME] [nvarchar] (30) NULL ,	[ALOTCLT_YSKUAN] [nvarchar] (30) NULL ,	[ALOTCLT_JYKUAN] [nvarchar] (30) NULL ,	[ALOTCLT_WFZ_YSKUAN] [nvarchar] (30) NULL ,	[ALOTCLT_KEFZKUAN] [nvarchar] (30) NULL ,	[ALOTCLT_ZSHOUKUAN] [nvarchar] (30) NULL ,	[ALOTCLT_ZFENZHANG] [nvarchar] (30) NULL ,	[ALOTSK_RESID] [bigint] NULL ,	[ALOTSK_CODE] [nvarchar] (30) NULL ,	[ALOTSK_MONEY] [nvarchar] (30) NULL ,	[ALOTSK_TYPE] [nvarchar] (30) NULL ,	[ALOTSK_KHCODE] [nvarchar] (30) NULL ,	[ALOTSK_KHNAME] [nvarchar] (30) NULL ,	[ALOTSK_KHJIEYU] [nvarchar] (30) NULL ,	[ALOTREC_RESID] [bigint] NULL ,	[ALOTREC_CODE] [nvarchar] (30) NULL ,	[ALOTREC_TYPE] [nvarchar] (30) NULL ,	[ALOTREC_MONEY] [nvarchar] (30) NULL ,	[ALOTREC_BIZRESID] [nvarchar] (30) NULL ,	[ALOTREC_BIZRESNAME] [nvarchar] (30) NULL ,	[ALOTREC_BIZCODE] [nvarchar] (30) NULL ,	[ALOTREC_BIZNAME] [nvarchar] (30) NULL ,	[ALOTREC_KHCODE] [nvarchar] (30) NULL ,	[ALOTREC_KHNAME] [nvarchar] (30) NULL ,	[ALOTREC_FZREN] [nvarchar] (30) NULL ,	[ALOTREC_FZTIME] [nvarchar] (30) NULL ) ON [PRIMARY]
//1,0,0:2006.02.11::CREATE TABLE [dbo].[CMS_BIZALLOT_DEAL] (	[ALOTBIZ_ID] [bigint] NOT NULL ,	[ALOTBIZ_ALOTID] [bigint] NOT NULL ,	[ALOTBIZ_BIZRESID] [bigint] NULL ,	[ALOTBIZ_BIZCODE] [nvarchar] (30) NULL ,	[ALOTBIZ_BIZNAME] [nvarchar] (30) NULL ,	[ALOTBIZ_STATUS] [nvarchar] (30) NULL ,	[ALOTBIZ_STATUS_OK] [nvarchar] (30) NULL ,	[ALOTBIZ_STATUS_CANCEL] [nvarchar] (30) NULL ,	[ALOTBIZ_MONEY] [nvarchar] (30) NULL ,	[ALOTBIZ_ZHEKOU] [nvarchar] (30) NULL ,	[ALOTBIZ_YINGSHOUFU] [nvarchar] (30) NULL ,	[ALOTBIZ_YIFZ] [nvarchar] (30) NULL ,	[ALOTBIZ_DEADLINE] [nvarchar] (30) NULL ,	[ALOTBIZ_KHCODE] [nvarchar] (30) NULL ,	[ALOTBIZ_YEWUYUAN] [nvarchar] (30) NULL ,	[ALOTBIZ_FZCODE] [nvarchar] (30) NULL ,	[ALOTBIZ_FZREN] [nvarchar] (30) NULL ,	[ALOTBIZ_FZTIME] [nvarchar] (30) NULL ) ON [PRIMARY]
//1,0,0:2006.02.11::ALTER TABLE [dbo].[CMS_BIZALLOT] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_BIZALLOT_SK] PRIMARY KEY  CLUSTERED 	(		[ALOT_ID]	)  ON [PRIMARY] 
//1,0,0:2006.02.11::ALTER TABLE [dbo].[CMS_BIZALLOT_DEAL] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_BIZALLOT_BIZ] PRIMARY KEY  CLUSTERED 	(		[ALOTBIZ_ID]	)  ON [PRIMARY] 
1,1,1:2006.02.15::ALTER TABLE CMS_RIGHTS ADD QX_FILTER_WHERE nvarchar (250) NULL
1,1,1:2006.02.15::ALTER TABLE CMS_RIGHTS ADD QX_FILTER_START int NULL
//1,1,1:2006.02.16::ALTER TABLE CMS_BIZALLOT_DEAL ADD ALOTBIZ_STATUS_FZOK nvarchar (250) NULL
//1,1,1:2006.02.17::ALTER TABLE CMS_BIZALLOT ADD ALOTCLT_TOTAL_DISCOUNT nvarchar (30) NULL
//1,1,1:2006.02.17::ALTER TABLE CMS_BIZALLOT ADD ALOTCLT_USED_DISCOUNT nvarchar (30) NULL
//1,1,1:2006.02.17::ALTER TABLE CMS_BIZALLOT ADD ALOTCLT_AVAIL_DISCOUNT nvarchar (30) NULL
//1,1,1:2006.02.17::ALTER TABLE CMS_BIZALLOT ADD ALOTSK_DISCOUNT nvarchar (30) NULL
//1,1,1:2006.02.17::ALTER TABLE CMS_BIZALLOT ADD ALOTSK_DISCOUNT_NOTES nvarchar (30) NULL
//1,1,1:2006.02.17::ALTER TABLE CMS_BIZALLOT_DEAL DROP COLUMN ALOTBIZ_MONEY
//1,1,1:2006.02.17::ALTER TABLE CMS_BIZALLOT_DEAL DROP COLUMN ALOTBIZ_ZHEKOU

//数据库更新日志：2006.02.21 已更新：mdb, local-banks, local-yfs, local-yjsm, local-unionsoft，玉佛寺，印将数码

1,1,0:2006.02.22::ALTER TABLE CMS_RIGHTS DROP COLUMN QX_FILTER_WHERE
1,1,0:2006.02.22::ALTER TABLE CMS_RIGHTS DROP COLUMN QX_FILTER_START
1,0,0:2006.02.22::CREATE TABLE [dbo].[CMS_PARAMETER] (	[PARM_ID] [bigint] NOT NULL ,	[PARM_NAME] [nvarchar] (30) NOT NULL ,	[PARM_INT] [int] NULL ,	[PARM_FLOAT] [float] NULL ,	[PARM_STR1] [nvarchar] (250) NULL ,	[PARM_STR2] [nvarchar] (250) NULL ,	[PARM_STR3] [nvarchar] (250) NULL ,	[PARM_DATETIME] [datetime] NULL ) ON [PRIMARY]
1,0,0:2006.02.22::ALTER TABLE [dbo].[CMS_PARAMETER] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_PARAMETER] PRIMARY KEY  CLUSTERED 	(		[PARM_ID]	)  ON [PRIMARY]
1,0,0:2006.02.22::CREATE TABLE [dbo].[CMS_ROWFILTER] (	[ROWF_ID] [bigint] NOT NULL ,	[ROWF_RESIID] [bigint] NOT NULL ,	[ROWF_USERID] [nvarchar] (30) NOT NULL ,	[ROWF_WHERE] [nvarchar] (250) NULL ,	[ROWF_START] [int] NULL ) ON [PRIMARY]
1,0,0:2006.02.22::ALTER TABLE [dbo].[CMS_ROWFILTER] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_ROWFILTER] PRIMARY KEY  CLUSTERED 	(		[ROWF_RESIID],		[ROWF_USERID]	)  ON [PRIMARY]
//1,0,0:2006.02.23::CREATE TABLE [dbo].[CMS_DAILYWORK] (	[DAILY_ID] [bigint] NOT NULL ,	[DAILY_USERID] [nvarchar] (30) NOT NULL ,	[DAILY_RESIID] [bigint] NOT NULL ,	[DAILY_ORDER] [int] NULL ) ON [PRIMARY]
//1,0,0:2006.02.23::ALTER TABLE [dbo].[CMS_DAILYWORK] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_DAILYWORK] PRIMARY KEY  CLUSTERED 	(		[DAILY_USERID],		[DAILY_RESIID]	)  ON [PRIMARY]

//数据库更新日志：2006.02.23 已更新：mdb, local-banks, local-yfs, local-yjsm, local-unionsoft, local-alfa

//更新人员表单的资源ID为1300（原来是-1）
1,1,0:2006.02.24::UPDATE CMS_EMPLOYEE SET RESID=1300
1,1,0:2006.02.24::UPDATE CMS_RESOURCE SET ID=1300 WHERE ID=-1
1,1,0:2006.02.24::UPDATE CMS_RESOURCE SET RES_COL_RESID=1300 WHERE RES_COL_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_RESOURCE SET RES_STATUS_RESID=1300 WHERE RES_STATUS_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_TABLE_DEFINE SET CD_RESID=1300 WHERE CD_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_TABLE_SHOW SET CS_RESID=1300 WHERE CS_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_COL_OPTION SET CDX_RESID=1300 WHERE CDX_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_COL_AUTOCODING SET CDC_RESID=1300 WHERE CDC_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_COL_DICTIONARY SET CDZ2_RESID1=1300 WHERE CDZ2_RESID1=-1
1,1,0:2006.02.24::UPDATE CMS_COL_DICTIONARY SET CDZ2_RESID2=1300 WHERE CDZ2_RESID2=-1
1,1,0:2006.02.24::UPDATE CMS_COL_CALCULATION SET CDJ_RESID=1300 WHERE CDJ_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_COL_CUSTCODING SET CDD_RESID=1300 WHERE CDD_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_TABLE_INPUT SET CI_RESID=1300 WHERE CI_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_TABLE_INPUT SET CI_COLRESID=1300 WHERE CI_COLRESID=-1
1,1,0:2006.02.24::UPDATE CMS_RIGHTS SET QX_OBJECT_ID=1300 WHERE QX_OBJECT_ID=-1
1,1,0:2006.02.24::UPDATE CMS_ROWFILTER SET ROWF_RESIID=1300 WHERE ROWF_RESIID=-1
1,1,0:2006.02.24::UPDATE CMS_RELATED_TABLE SET RT_TAB1_RESID=1300 WHERE RT_TAB1_RESID=-1
1,1,0:2006.02.24::UPDATE CMS_RELATED_TABLE SET RT_TAB2_RESID=1300 WHERE RT_TAB2_RESID=-1

1,1,0:2006.02.24::ALTER TABLE CMS_SYSLOG ADD LOG_REF1 nvarchar (50) NULL
1,1,0:2006.02.24::ALTER TABLE CMS_SYSLOG ADD LOG_REF2 nvarchar (50) NULL
1,1,0:2006.02.24::ALTER TABLE CMS_SYSLOG ADD LOG_REF3 nvarchar (50) NULL
1,1,0:2006.02.24::ALTER TABLE CMS_SYSLOG ADD LOG_REF4 nvarchar (50) NULL
1,1,0:2006.02.24::ALTER TABLE CMS_SYSLOG ADD LOG_REF5 nvarchar (200) NULL
1,1,0:2006.02.24::ALTER TABLE CMS_SYSLOG ADD LOG_REF6 nvarchar (200) NULL

1,1,1:2006.02.24::ALTER TABLE CMS_RESOURCE ADD RES_FILTER nvarchar (250) NULL
1,1,1:2006.02.24::ALTER TABLE CMS_RESOURCE ADD RES_FILTERSTART tinyint NULL
1,1,1:2006.02.24::ALTER TABLE CMS_RESOURCE ADD RES_ISFLOW tinyint NULL

//数据库更新日志：2006.02.24 已更新：mdb, local-alfa
//数据库更新日志：2006.02.25 已更新：mdb, local-alfa, local-yjsm, 印将数码

//1,1,1:2006.02.26::ALTER TABLE CMS_BIZALLOT_DEAL ADD ALOTBIZ_CONFIRMED nvarchar (30) NULL
//1,0,0:2006.02.26::CREATE TABLE [dbo].[CMS_DATATEMPLATE] (	[DTMPL_ID] [bigint] NOT NULL ,	[DTMPL_HOSTRESID] [bigint] NOT NULL ,	[DTMPL_DATARESID] [bigint] NOT NULL ,	[DTMPL_HOSTCOL] [nvarchar] (30) NOT NULL ,	[DTMPL_DATACOL] [nvarchar] (30) NOT NULL ,	[DTMPL_RUNFORMULA] [tinyint] NULL ,	[DTMPL_ORDER] [int] NOT NULL ) ON [PRIMARY]
//1,0,0:2006.02.26::ALTER TABLE [dbo].[CMS_DATATEMPLATE] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_DATATEMPLATE] PRIMARY KEY  CLUSTERED 	(		[DTMPL_HOSTRESID],		[DTMPL_DATARESID]	)  ON [PRIMARY]

//数据库更新日志：2006.02.26 已更新：mdb, local-banks，local-alfa, local-yjsm，local-yfs, local-unionsoft
//数据库更新日志：2006.03.02 已更新：阿法拉伐
//数据库更新日志：2006.03.03 已更新：印将数码

1,0,0:2006.03.07::CREATE TABLE [dbo].[CMS_MTSEARCH] (	[ID] [bigint] NOT NULL ,	[RESID1] [bigint] NULL ,	[RESID2] [bigint] NULL ,	[EDTID] [nvarchar] (30) NULL ,	[EDTTIME] [datetime] NULL ,	[SHOWORDER] [int] NULL ,	[MTS_TITLE] [nvarchar] (30) NULL ,	[MTS_TYPE] [smallint] NULL ) ON [PRIMARY]
1,0,0:2006.03.07::CREATE TABLE [dbo].[CMS_MTSEARCH_COLDEF] (	[ID] [bigint] NOT NULL ,	[RESID1] [bigint] NULL ,	[RESID2] [bigint] NULL ,	[EDTID] [nvarchar] (30) NULL ,	[EDTTIME] [datetime] NULL ,	[SHOWORDER] [int] NULL ,	[MTSCOL_HOSTID] [bigint] NOT NULL ,	[MTSCOL_TYPE] [smallint] NOT NULL ,	[MTSCOL_COLNAME] [nvarchar] (30) NOT NULL ,	[MTSCOL_COLDISPNAME] [nvarchar] (30) NULL ,	[MTSCOL_COLCOND] [nvarchar] (10) NULL ,	[MTSCOL_COLVALUE] [nvarchar] (50) NULL ,	[MTSCOL_WHERE] [nvarchar] (250) NULL ,	[MTSCOL_SHOWWIDTH] [int] NULL ,	[MTSCOL_SHOWFORMAT] [nvarchar] (50) NULL ) ON [PRIMARY]
1,0,0:2006.03.07::ALTER TABLE [dbo].[CMS_MTSEARCH] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_RESVIEW] PRIMARY KEY  CLUSTERED 	(		[ID]	)  ON [PRIMARY]
1,0,0:2006.03.07::ALTER TABLE [dbo].[CMS_MTSEARCH_COLDEF] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_MTSEARCH_COLDEF] PRIMARY KEY  CLUSTERED 	(		[ID]	)  ON [PRIMARY]
1,1,1:2006.03.09::ALTER TABLE CMS_RESOURCE ADD RES_SRCTABLE nvarchar (50) NULL
//1,1,1:2006.03.12::ALTER TABLE CMS_BIZALLOT_DEAL ADD ALOTBIZ_STATUS_TONGJI nvarchar (250) NULL
//1,1,1:2006.03.12::ALTER TABLE CMS_BIZALLOT ADD ALOTREC_TITLE nvarchar (30) NULL
//1,1,1:2006.03.12::ALTER TABLE CMS_BIZALLOT ADD ALOTREC_DISCOUNT nvarchar (30) NULL
//1,1,1:2006.03.13::ALTER TABLE CMS_BIZALLOT ADD ALOTREC_FZROLLBACK nvarchar (30) NULL
1,1,1:2006.03.14::ALTER TABLE CMS_TABLE_INPUT ADD CI_FONT_LINE nvarchar (20) NULL
1,1,1:2006.03.14::ALTER TABLE CMS_TABLE_INPUT DROP COLUMN CI_FONT_OVERLINE
1,1,1:2006.03.14::ALTER TABLE CMS_TABLE_INPUT DROP COLUMN CI_FONT_STRIKE
1,1,1:2006.03.14::ALTER TABLE CMS_TABLE_INPUT DROP COLUMN CI_FONT_UNDERLINE

//数据库更新日志：2006.03.14 已更新：视线旅游

//数据库更新日志：2006.03.14 已更新：mdb, local-jswb, local-banks，local-yjsm，local-yfs, local-unionsoft, local-ivision

//数据库更新日志：2006.03.15 已更新：玉佛寺

//1,0,0:2006.03.16::DROP TABLE [dbo].[CMS_DATATEMPLATE]
//1,0,0:2006.03.16::CREATE TABLE [dbo].[CMS_RECTEMPLATE] (	[ID] [bigint] NOT NULL ,	[RESID1] [bigint] NULL ,	[RESID2] [bigint] NULL ,	[EDTID] [nvarchar] (30) NULL ,	[EDTTIME] [datetime] NULL ,	[SHOWORDER] [int] NULL ,	[DTMPL_TYPE] [tinyint] NULL ,	[DTMPL_COL1] [nvarchar] (30) NULL ,	[DTMPL_COL2] [nvarchar] (30) NULL ,	[DTMPL_RUNFORMULA] [tinyint] NULL ) ON [PRIMARY]
//1,0,0:2006.03.16::ALTER TABLE [dbo].[CMS_RECTEMPLATE] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_RECTEMPLATE] PRIMARY KEY  CLUSTERED 	(		[ID]	)  ON [PRIMARY]

//数据库更新日志：2006.03.16 已更新：mdb

1,0,0:2006.03.20::ALTER TABLE CMS_TABLE_SHOW ADD CS_RESINPID bigint NULL
0,1,1:2006.03.20::ALTER TABLE CMS_TABLE_SHOW ADD CS_RESINPID float NULL
//2006-04-27 取消此SQL语句，已经通过编程更新实现：1,1,1:2006.03.20::UPDATE CMS_TABLE_SHOW SET CS_RESINPID=CS_RESID
1,0,0:2006.03.20::CREATE TABLE [dbo].[CMS_DEP_VIRTUAL] (	[ID] [bigint] NOT NULL ,	[RESID1] [bigint] NULL ,	[RESID2] [bigint] NULL ,	[EDTID] [nvarchar] (30) NULL ,	[EDTTIME] [datetime] NULL ,	[SHOWORDER] [int] NULL ,	[VDEP_DEPID] [bigint] NULL ,	[VDEP_EMPID] [nvarchar] (30) NULL ) ON [PRIMARY]
1,0,0:2006.03.20::ALTER TABLE [dbo].[CMS_DEP_VIRTUAL] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_DEP_VIRTUAL] PRIMARY KEY  CLUSTERED 	(		[ID]	)  ON [PRIMARY]
//1,0,0:2006.03.21::CREATE TABLE [dbo].[CMS_DICT_TEMPLATE] (	[ID] [bigint] NOT NULL ,	[RESID1] [bigint] NULL ,	[RESID2] [bigint] NULL ,	[EDTID] [nvarchar] (30) NULL ,	[EDTTIME] [datetime] NULL ,	[SHOWORDER] [int] NULL ,	[DICTT_COLNAME] [nvarchar] (30) NULL ,	[DICTT_COLVAL] [nvarchar] (250) NULL ) ON [PRIMARY]
//1,0,0:2006.03.21::ALTER TABLE [dbo].[CMS_DICT_TEMPLATE] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_DICT_TEMPLATE] PRIMARY KEY  CLUSTERED 	(		[ID]	)  ON [PRIMARY]

1,1,0:2006.03.26::ALTER TABLE CMS_MTSEARCH_COLDEF ADD MTSCOL_LOGIC nvarchar (10) NULL
1,1,0:2006.03.26::ALTER TABLE CMS_MTSEARCH ADD MTS_EMPID nvarchar (20) NULL
1,1,0:2006.03.26::ALTER TABLE CMS_MTSEARCH ADD MTS_START tinyint NULL

1,1,0:2006.03.30::ALTER TABLE CMS_MTSEARCH ADD MTS_TABLELOGIC nvarchar (5) NULL
1,1,0:2006.04.01::ALTER TABLE CMS_PARAMETER ADD PARM_STR4 nvarchar (250) NULL
1,1,0:2006.04.03::ALTER TABLE CMS_MTSEARCH DROP COLUMN MTS_CONTENT1
1,1,0:2006.04.03::ALTER TABLE CMS_MTSEARCH DROP COLUMN MTS_CONTENT2
1,1,0:2006.04.03::ALTER TABLE CMS_MTSEARCH DROP COLUMN MTS_CONTENT3
1,0,0:2006.04.03::CREATE TABLE [dbo].[CMS_MTSEARCH_BSEND] (	[ID] [bigint] NOT NULL ,	[RESID1] [bigint] NULL ,	[RESID2] [bigint] NULL ,	[EDTID] [nvarchar] (30) NULL ,	[EDTTIME] [datetime] NULL ,	[SHOWORDER] [int] NULL ,	[BSEND_HOSTID] [bigint] NOT NULL ,	[BSEND_SMS_CONTENT] [nvarchar] (250) NULL ,	[BSEND_SMS_PORT] [int] NULL ,	[BSEND_SMS_TIMES] [int] NULL ,	[BSEND_SMS_TOTALNUM] [int] NULL ,	[BSEND_SMS_SENTNUM] [int] NULL ,	[BSEND_EMAIL_TITLE] [nvarchar] (250) NULL ,	[BSEND_EMAIL_CONTENT] [ntext] NULL ,	[BSEND_EMAIL_TYPE] [int] NULL ,	[BSEND_EMAIL_TIMES] [int] NULL ,	[BSEND_EMAIL_TOTALNUM] [int] NULL ,	[BSEND_EMAIL_SENTNUM] [int] NULL ) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
1,0,0:2006.04.03::ALTER TABLE [dbo].[CMS_MTSEARCH_BSEND] WITH NOCHECK ADD 	CONSTRAINT [PK_CMS_MTSEARCH_BSEND] PRIMARY KEY  CLUSTERED 	(		[ID]	)  ON [PRIMARY]
1,1,1:2006.04.05::ALTER TABLE CMS_COL_DICTIONARY ADD CDZ2_TYPE tinyint NULL

//2006.04.05:: ***手动设置：设置高级字典的匹配字段类型：UPDATE CMS_COL_DICTIONARY SET CDZ2_TYPE=0 WHERE CDZ2_COL1<>'' AND (NOT (CDZ2_COL1 IS NULL))
//2006.04.05:: ***手动设置：设置高级字典的参考字段类型：UPDATE CMS_COL_DICTIONARY SET CDZ2_TYPE=1 WHERE CDZ2_COL1='' OR CDZ2_COL1 IS NULL

1,1,1:2006.04.05::ALTER TABLE CMS_TABLE_DEFINE ADD CD_NOTES nvarchar (250) NULL
1,1,1:2006.04.06::ALTER TABLE CMS_COL_DICTIONARY ADD CDZ2_ADD_DICTREC tinyint NULL
1,1,1:2006.04.06::ALTER TABLE CMS_COL_DICTIONARY ADD CDZ2_EDIT_DICTREC tinyint NULL
1,1,1:2006.04.06::ALTER TABLE CMS_RELATED_TABLE ADD RT_EDIT_HOSTRES tinyint NULL

//2006.04.06:: ***手动设置：表内字典功能已经去除，所有定义为表内字典的字段必须重新配置成高级字典。

1,1,1:2006.04.08::UPDATE CMS_TABLE_DEFINE SET CD_IS_NOINPUT=0 WHERE CD_RESID=1300 AND CD_COLNAME='EMP_LANGUAGE'
1,1,1:2006.04.08::UPDATE CMS_TABLE_DEFINE SET CD_IS_NOINPUT=0, CD_DISPNAME='登录页面' WHERE CD_RESID=1300 AND CD_COLNAME='EMP_MAINPAGE'
//2006.04.10:: ***手动设置：更新人员表单的登录页面字段的自定义选择项，也可以在界面中直接定义 UPDATE CMS_COL_OPTION SET CDX_VALUE='' WHERE CDX_AIID=4 AND CDX_RESID=1300 AND CDX_COLNAME='EMP_MAINPAGE'
//2006.04.10:: ***手动设置：更新人员表单的登录页面字段的自定义选择项，也可以在界面中直接定义 UPDATE CMS_COL_OPTION SET CDX_VALUE='内容管理' WHERE CDX_AIID=5 AND CDX_RESID=1300 AND CDX_COLNAME='EMP_MAINPAGE'
//2006.04.10:: ***手动设置：更新人员表单的登录页面字段的自定义选择项，也可以在界面中直接定义 UPDATE CMS_COL_OPTION SET CDX_VALUE='工作流' WHERE CDX_AIID=6 AND CDX_RESID=1300 AND CDX_COLNAME='EMP_MAINPAGE'
1,1,0:2006.04.10::ALTER TABLE CMS_EMPLOYEE ALTER COLUMN EMP_PASS nvarchar (80) NULL
1,1,1:2006.04.10::UPDATE CMS_TABLE_DEFINE SET CD_SIZE=80 WHERE CD_RESID=1300 AND CD_COLNAME='EMP_PASS'
1,1,0:2006.04.12::ALTER TABLE CMS_MTSEARCH_COLDEF ADD MTSCOL_VALTYPE tinyint NULL
1,0,0:2006.04.13::ALTER TABLE CMS_MTSEARCH DROP COLUMN MTS_WHERE
1,1,0:2006.04.13::ALTER TABLE CMS_MTSEARCH ADD MTS_COLNAME nvarchar (30) NULL

//2006.04.17:: ***手动设置：行记录权限设置重新设置，下面的SQL语句便于查找现有设置：SELECT * FROM CMS_RIGHTS WHERE (QX_QUERY_WHERE<>'' AND NOT(QX_QUERY_WHERE IS NULL))
//2006.04.17:: ***手动设置：高级字典的行条件设置重新设置，下面的SQL语句便于查找现有设置：SELECT * FROM CMS_TABLE_DEFINE WHERE CD_VALTYPE=8 AND (CD_VALUE<>'' AND NOT (CD_VALUE IS NULL))

1,1,1:2006.04.22::ALTER TABLE CMS_RESOURCE DROP COLUMN RES_STATUS_RESID
1,1,1:2006.04.22::ALTER TABLE CMS_RESOURCE DROP COLUMN RES_STATUS_EMAIL
1,1,1:2006.04.22::ALTER TABLE CMS_RESOURCE DROP COLUMN RES_STATUS_HANDPHONE
1,1,1:2006.04.24::ALTER TABLE [CMS2.CMS_DOC] ALTER COLUMN DOC2_NAME nvarchar (150) NULL
1,1,1:2006.04.24::UPDATE CMS_TABLE_DEFINE SET CD_SIZE=150 WHERE CD_COLNAME='DOC2_NAME'
1,1,1:2006.05.02::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY2_COL nvarchar (30) NULL
1,1,1:2006.05.02::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY2_TYPE nvarchar (4) NULL
1,1,1:2006.05.02::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY3_COL nvarchar (30) NULL
1,1,1:2006.05.02::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY3_TYPE nvarchar (4) NULL
1,1,1:2006.05.02::ALTER TABLE CMS_RESOURCE ADD RES_NOSHOW_RELTABLES tinyint NULL
1,1,0:2006.05.09::DROP TABLE [dbo].[CMS_ROWFILTER]
1,1,1:2006.05.09::ALTER TABLE CMS_TABLE_INPUTLIST ADD CILST_KEEP_OLDVAL tinyint NULL

1,1,1:2006.05.11::ALTER TABLE CMS_RESOURCE ADD RES_LOGCOL1 nvarchar (30) NULL
1,1,1:2006.05.11::ALTER TABLE CMS_RESOURCE ADD RES_LOGCOL2 nvarchar (30) NULL
1,1,1:2006.05.11::ALTER TABLE CMS_RESOURCE ADD RES_LOGCOL3 nvarchar (30) NULL
1,1,1:2006.05.11::ALTER TABLE CMS_RESOURCE ADD RES_LOGCOL4 nvarchar (30) NULL
1,1,1:2006.05.11::ALTER TABLE CMS_RESOURCE ADD RES_LOGCOL5 nvarchar (30) NULL
1,1,1:2006.05.11::ALTER TABLE CMS_RESOURCE ADD RES_LOGCOL6 nvarchar (30) NULL

1,0,0:2006.06.19::ALTER TABLE [CMS2.CMS_DOC] ALTER COLUMN DOC2_RESIDS nvarchar (200) NULL
1,0,0:2006.06.19::ALTER TABLE [CMS2.CMS_DOC] ADD DOC2_KEYWORDS nvarchar (200) NULL
1,0,0:2006.06.19::CREATE  INDEX [IX_CMS_DOC_6] ON [CMS2.CMS_DOC]([DOC2_KEYWORDS]) ON [PRIMARY]
1,0,0:2006.06.20::ALTER TABLE [CMS2.CMS_DOC] ALTER COLUMN DOC2_EXT nvarchar (30) NULL

//工作流在人员表单中添加了字段：签名图片
1,1,1:2006.07.02::INSERT INTO CMS_TABLE_DEFINE (CD_ID, CD_RESID, CD_COLNAME, CD_DISPNAME, CD_TYPE, CD_SIZE, CD_IS_NOINPUT, CD_IS_UNIQUE, CD_IS_NONULL, CD_IS_UNEDITABLE, CD_IS_SYSFIELD, CD_VALTYPE) VALUES(188068339560,1300,'SIGNPICTURE','签名图片',6,16,0,0,0,0,1,0)
1,1,1:2006.07.02::INSERT INTO CMS_TABLE_SHOW (CS_RESID, CS_COLNAME, CS_SHOW_ORDER, CS_SHOW_WIDTH, CS_SHOW_ENABLE, CS_ALIGN, CS_RESINPID) VALUES(1300, 'SIGNPICTURE',103,40,0,0,1300)
1,1,1:2006.07.02::ALTER TABLE CMS_EMPLOYEE ADD SIGNPICTURE image NULL
1,1,1:2006.07.02::ALTER TABLE CMS_EMPLOYEE ADD SIGNPICTURE_1 nvarchar (50) NULL

//创建单选项系统表单
1,0,0:2006.07.06::CREATE TABLE [dbo].[CMS_COL_RADIO] ([CDR_AIID] [int] IDENTITY (1, 1) NOT NULL ,	[CDR_RESID] [bigint] NOT NULL ,	[CDR_COLNAME] [nvarchar] (30) NOT NULL , [CDR_VALUE] [nvarchar] (250) NOT NULL ) ON [PRIMARY]
1,0,0:2006.07.06::ALTER TABLE [dbo].[CMS_COL_RADIO] WITH NOCHECK ADD CONSTRAINT [PK_CMS_COL_RADIO] PRIMARY KEY  CLUSTERED ([CDR_AIID])  ON [PRIMARY]
1,0,0:2006.07.06::CREATE  INDEX [IX_CMS_COL_RADIO] ON [dbo].[CMS_COL_RADIO]([CDR_RESID], [CDR_COLNAME]) ON [PRIMARY]

//字段定义表添加4个字段定义参数
1,1,1:2006.07.06::ALTER TABLE CMS_TABLE_DEFINE ADD CD_INT1 int NULL
1,1,1:2006.07.06::ALTER TABLE CMS_TABLE_DEFINE ADD CD_INT2 int NULL
1,1,1:2006.07.06::ALTER TABLE CMS_TABLE_DEFINE ADD CD_STR3 nvarchar (50) NULL
1,1,1:2006.07.06::ALTER TABLE CMS_TABLE_DEFINE ADD CD_STR4 nvarchar (50) NULL

//增加资源名称的长度至60，因为英文资源名称较长
1,1,1:2006.07.06::ALTER TABLE CMS_RESOURCE ALTER COLUMN NAME nvarchar (60) NULL

//增加对数字型（小数）的精度控制
1,1,1:2006.07.12::ALTER TABLE CMS_TABLE_DEFINE ADD CD_FLOAT_PRECISION tinyint NULL

//在每个输入窗体上也可以指定某字段为必填项
1,1,1:2006.07.13::ALTER TABLE CMS_TABLE_INPUT ADD CI_IS_NONULL tinyint NULL

//增加创建控件名称的长度为50，原来是30
1,1,1:2006.07.15::ALTER TABLE CMS_TABLE_INPUT ALTER COLUMN CI_COLNAME nvarchar (50) NOT NULL

//2006.07.20:: ***手动设置：设置在继承型子资源上的菜单必须搬到其独立型父资源上（在菜单xml文件中修改资源ID），并重新设置权限

//修改人员表单的HOST_ID为-1，原来为0。人员管理表单没有必要在资源管理中出现
1,1,1:2006.07.30::UPDATE CMS_RESOURCE SET HOST_ID=-1, PID=-1 WHERE ID=1300

//为提高资源索引的效率
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID1 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID2 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID3 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID4 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID5 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID6 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID7 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID8 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID9 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID10 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID11 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID12 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID13 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID14 bigint NULL
1,0,0:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID15 bigint NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID1 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID2 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID3 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID4 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID5 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID6 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID7 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID8 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID9 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID10 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID11 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID12 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID13 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID14 float NULL
0,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE ADD RES_PID15 float NULL

//删除资源表单中早已无用的字段
1,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE DROP COLUMN RES_FILTER
1,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE DROP COLUMN RES_FILTERSTART
1,1,1:2006.07.30::ALTER TABLE CMS_RESOURCE DROP COLUMN RES_DEL_SUBRECORDS

//计算公式支持：是否含四则运算
1,1,1:2006.08.12::ALTER TABLE CMS_COL_CALCULATION ADD CDJ_NO_ARITHMETIC tinyint NULL
1,1,1:2006.08.12::ALTER TABLE CMS_RESOURCE ADD RES_COMMENTS nvarchar (250) NULL

//删除权限表中早已无用的行记录权限字段
1,1,0:2006.08.19::ALTER TABLE CMS_RIGHTS DROP COLUMN QX_QUERY_WHERE

//创建数据同步用的表单
1,0,0:2006.08.24::CREATE TABLE [dbo].[CMS_SYNCRES_COL] ([SYNCOL_ID] [bigint] NOT NULL ,[SYNCOL_LISTID] [bigint] NOT NULL ,[SYNCOL_COLTYPE] [tinyint] NOT NULL ,[SYNCOL_COLNAME1] [nvarchar] (30) NOT NULL ,[SYNCOL_COLNAME2] [nvarchar] (30) NOT NULL ,[SYNCOL_SHOWORDER] [int] NULL ) ON [PRIMARY]
1,0,0:2006.08.24::CREATE TABLE [dbo].[CMS_SYNCRES_LIST] ([SYNLST_ID] [bigint] NOT NULL ,[SYNLST_HOSTRESID] [bigint] NOT NULL ,[SYNLST_SYNCRESID] [bigint] NOT NULL ,[SYNLST_ACTION] [tinyint] NOT NULL ,[SYNLST_SYNCTYPE] [tinyint] NULL ,[SYNLST_SHOWORDER] [int] NULL ) ON [PRIMARY]
1,0,0:2006.08.24::ALTER TABLE [dbo].[CMS_SYNCRES_COL] WITH NOCHECK ADD CONSTRAINT [PK_CMS_SYNCRES_COL] PRIMARY KEY  CLUSTERED ([SYNCOL_LISTID],[SYNCOL_COLTYPE],[SYNCOL_COLNAME1],[SYNCOL_COLNAME2])  ON [PRIMARY]
1,0,0:2006.08.24::ALTER TABLE [dbo].[CMS_SYNCRES_LIST] WITH NOCHECK ADD CONSTRAINT [PK_CMS_SYNCRES_LIST] PRIMARY KEY  CLUSTERED ([SYNLST_HOSTRESID],[SYNLST_SYNCRESID],[SYNLST_ACTION])  ON [PRIMARY]
1,0,0:2006.08.24::CREATE  INDEX [IX_CMS_SYNCRES_COL] ON [dbo].[CMS_SYNCRES_COL]([SYNCOL_ID]) ON [PRIMARY]
1,0,0:2006.08.24::CREATE  INDEX [IX_CMS_SYNCRES_COL_1] ON [dbo].[CMS_SYNCRES_COL]([SYNCOL_SHOWORDER]) ON [PRIMARY]
1,0,0:2006.08.24::CREATE  INDEX [IX_CMS_SYNCRES_LIST] ON [dbo].[CMS_SYNCRES_LIST]([SYNLST_ID]) ON [PRIMARY]
1,0,0:2006.08.24::CREATE  INDEX [IX_CMS_SYNCRES_LIST_1] ON [dbo].[CMS_SYNCRES_LIST]([SYNLST_SHOWORDER]) ON [PRIMARY]

//创建含4字段表头表尾的统计表
1,0,0:2006.08.26::CREATE TABLE [dbo].[CMS_MTSEARCH_REPORTTABLE] ([RPTTBL_ID] [bigint] NOT NULL ,[RPTTBL_HOSTID] [bigint] NOT NULL ,[RPTTBL_RESID] [bigint] NOT NULL ,[RPTTBL_HEADER] [nvarchar] (500) NULL ,[RPTTBL_TAIL] [nvarchar] (2000) NULL ,[RPTTBL_F1_NAME] [nvarchar] (40) NULL ,[RPTTBL_F1_VAL] [nvarchar] (100) NULL ,[RPTTBL_F2_NAME] [nvarchar] (40) NULL ,[RPTTBL_F2_VAL] [nvarchar] (100) NULL ,[RPTTBL_F3_NAME] [nvarchar] (40) NULL ,[RPTTBL_F3_VAL] [nvarchar] (100) NULL ,[RPTTBL_F4_NAME] [nvarchar] (40) NULL ,[RPTTBL_F4_VAL] [nvarchar] (100) NULL ) ON [PRIMARY]
1,0,0:2006.08.26::ALTER TABLE [dbo].[CMS_MTSEARCH_REPORTTABLE] WITH NOCHECK ADD CONSTRAINT [PK_CMS_MTSEARCH_REPORTTABLE] PRIMARY KEY  CLUSTERED ([RPTTBL_ID])  ON [PRIMARY]
1,0,0:2006.08.26::CREATE  INDEX [IX_CMS_MTSEARCH_REPORTTABLE] ON [dbo].[CMS_MTSEARCH_REPORTTABLE]([RPTTBL_HOSTID]) ON [PRIMARY]

//数据同步功能尚未给正式使用，所以这里直接添加2个字段而不填充有效数据
1,0,0:2006.08.28::ALTER TABLE CMS_SYNCRES_COL ADD SYNCOL_HOSTRESID bigint NULL
1,0,0:2006.08.28::ALTER TABLE CMS_SYNCRES_COL ADD SYNCOL_SYNCRESID bigint NULL

//增加表头表尾
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F5_NAME nvarchar (40) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F5_VAL nvarchar (100) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F6_NAME nvarchar (40) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F6_VAL nvarchar (100) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F7_NAME nvarchar (40) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F7_VAL nvarchar (100) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F8_NAME nvarchar (40) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F8_VAL nvarchar (100) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F9_NAME nvarchar (40) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F9_VAL nvarchar (100) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F10_NAME nvarchar (40) NULL
1,0,0:2006.08.29::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_F10_VAL nvarchar (100) NULL

//数据同步功能扩展
1,0,0:2006.09.04::ALTER TABLE CMS_SYNCRES_COL ADD SYNCOL_CONDCOL nvarchar (30) NULL
1,0,0:2006.09.04::ALTER TABLE CMS_SYNCRES_COL ADD SYNCOL_CONDSIGN nvarchar (5) NULL
1,0,0:2006.09.04::ALTER TABLE CMS_SYNCRES_COL ADD SYNCOL_CONDVAL nvarchar (50) NULL
1,0,0:2006.09.04::ALTER TABLE CMS_SYNCRES_COL ADD SYNCOL_CONSTVAL nvarchar (50) NULL

//添加自定义条件窗体转换功能
1,1,1:2006.09.05::ALTER TABLE CMS_TABLE_INPUTLIST ADD CILST_CONDCOL nvarchar (30) NULL
1,1,1:2006.09.05::ALTER TABLE CMS_TABLE_INPUTLIST ADD CILST_CONDSIGN nvarchar (5) NULL
1,1,1:2006.09.05::ALTER TABLE CMS_TABLE_INPUTLIST ADD CILST_CONDVAL nvarchar (50) NULL
1,1,1:2006.09.05::ALTER TABLE CMS_TABLE_INPUTLIST ADD CILST_NOCOND tinyint NULL

//尾高级字典的显示添加显示次序功能
1,1,1:2006.09.11::ALTER TABLE CMS_COL_DICTIONARY ADD CDZ2_SHOWORDER int NULL

//添加定制窗体功能模块的数据库结构
//1,0,0:2006.09.14::CREATE TABLE [dbo].[CMS_TABLE_INPUTCUST] ([CCF_ID] [bigint] NOT NULL ,	[CCF_RESID] [bigint] NOT NULL ,	[CCF_FORMNAME] [nvarchar] (50) NOT NULL , [CCF_ACTION] [tinyint] NOT NULL , [CCF_URL] [nvarchar] (100) NOT NULL , [CCF_SHOWORDER] [int] NULL ) ON [PRIMARY]
//1,0,0:2006.09.14::ALTER TABLE [dbo].[CMS_TABLE_INPUTCUST] WITH NOCHECK ADD CONSTRAINT [PK_CMS_TABLE_INPUTCUST] PRIMARY KEY  CLUSTERED ([CCF_RESID], [CCF_FORMNAME], [CCF_ACTION])  ON [PRIMARY]
//1,0,0:2006.09.14::CREATE  INDEX [IX_CMS_TABLE_INPUTCUST] ON [dbo].[CMS_TABLE_INPUTCUST]([CCF_ID]) ON [PRIMARY]
//1,0,0:2006.09.14::CREATE  INDEX [IX_CMS_TABLE_INPUTCUST_1] ON [dbo].[CMS_TABLE_INPUTCUST]([CCF_SHOWORDER]) ON [PRIMARY]

//此UPDATE语句可运行任意多次。将打印窗体中的父/子资源字段的类型从Label (2) 更新为 TextboxInPrint (14)，否则打印窗体保存时会丢失父/子资源字段
1,0,0:2006.09.22::UPDATE CMS_TABLE_INPUT SET CI_TYPE=14 WHERE CI_TYPE=2 AND (CI_COLRESTYPE=1 OR CI_COLRESTYPE=2)

//改变文档内容表中：文档所在资源和共享资源的字段定义结构，从DOC2_RESIDS变为：DOC2_RESID1, ..., DOC2_RESID5
1,0,0:2006.10.01::ALTER TABLE [CMS2.CMS_DOC] ADD DOC2_RESID1 bigint NULL
1,0,0:2006.10.01::ALTER TABLE [CMS2.CMS_DOC] ADD DOC2_RESID2 bigint NULL
1,0,0:2006.10.01::ALTER TABLE [CMS2.CMS_DOC] ADD DOC2_RESID3 bigint NULL
1,0,0:2006.10.01::ALTER TABLE [CMS2.CMS_DOC] ADD DOC2_RESID4 bigint NULL
1,0,0:2006.10.01::ALTER TABLE [CMS2.CMS_DOC] ADD DOC2_RESID5 bigint NULL

//资源排序设置从3个增加至6个
1,0,1:2006.10.03::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY4_COL nvarchar (30) NULL
1,0,1:2006.10.03::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY4_TYPE nvarchar (4) NULL
1,0,1:2006.10.03::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY5_COL nvarchar (30) NULL
1,0,1:2006.10.03::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY5_TYPE nvarchar (4) NULL
1,0,1:2006.10.03::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY6_COL nvarchar (30) NULL
1,0,1:2006.10.03::ALTER TABLE CMS_RESOURCE ADD RES_ORDERBY6_TYPE nvarchar (4) NULL

//归档过滤条件应该设置为开关(资源的一个属性)，而非通用行过滤
1,0,1:2006.10.03::ALTER TABLE CMS_RESOURCE ADD RES_SHOWFILEDONLY tinyint NULL

//增加字段索引功能，删除原有无用的索引字段
1,0,1:2006.10.06::ALTER TABLE CMS_TABLE_DEFINE ADD CD_INDEX_NAME nvarchar (50) NULL
1,0,1:2006.10.06::ALTER TABLE CMS_TABLE_DEFINE DROP COLUMN CD_IS_INDEX
1,0,1:2006.10.10::ALTER TABLE CMS_DEPARTMENT ADD DEP_UNSHOW tinyint NULL

//更改产品码结构
1,0,0:2006.10.13::CREATE TABLE [dbo].[CMS_PRODINFO] ([PDINF_ID] [bigint] NOT NULL , [PDINF_NAME] [nvarchar] (30) NOT NULL , [PDINF_VALUE] [nvarchar] (250) NULL ) ON [PRIMARY]
1,0,0:2006.10.13::ALTER TABLE [dbo].[CMS_PRODINFO] WITH NOCHECK ADD CONSTRAINT [PK_CMS_PRODINFO] PRIMARY KEY  CLUSTERED ([PDINF_NAME])  ON [PRIMARY]
1,0,0:2006.10.13::INSERT INTO CMS_PRODINFO (PDINF_ID, PDINF_NAME, PDINF_VALUE) VALUES (193960097111, 'CMSCD_PRODNAME', '企业数据流系统')
1,0,0:2006.10.13::INSERT INTO CMS_PRODINFO (PDINF_ID, PDINF_NAME, PDINF_VALUE) VALUES (193960097222, 'CMSCD_PRODID', '01')
1,0,0:2006.10.13::INSERT INTO CMS_PRODINFO (PDINF_ID, PDINF_NAME, PDINF_VALUE) VALUES (193960097333, 'CMSCD_PRODVER', '1.00')

//删除无用的参数表单的记录
1,0,0:2006.10.13::DELETE CMS_PARAMETER WHERE PARM_NAME='PRODUCT_LCD'
1,0,0:2006.10.13::DELETE CMS_PARAMETER WHERE PARM_NAME='DB_FLOWUPDATETIME'

//增加功能模块：关联锁定
//1,0,0:2006.10.24::CREATE TABLE [dbo].[CMS_LOCK_RELATION] ([LOCKREL_ID] [bigint] NOT NULL , [LOCKREL_HOSTRESID] [bigint] NOT NULL , [LOCKREL_SUBRESID] [bigint] NOT NULL , [LOCKREL_ADD] [tinyint] NULL , [LOCKREL_EDIT] [tinyint] NULL , [LOCKREL_DELETE] [tinyint] NULL , [LOCKREL_ORDER] [int] NULL , [LOCKREL_TIME] [datetime] NULL) ON [PRIMARY]
//1,0,0:2006.10.24::ALTER TABLE [dbo].[CMS_LOCK_RELATION] WITH NOCHECK ADD CONSTRAINT [PK_CMS_LOCK_RELATION] PRIMARY KEY  CLUSTERED ([LOCKREL_HOSTRESID], [LOCKREL_SUBRESID])  ON [PRIMARY]

//改变日志的结构
1,0,0:2006.10.29::ALTER TABLE CMS_SYSLOG ADD LOG_RESID bigint NULL
1,0,0:2006.10.29::ALTER TABLE CMS_SYSLOG ADD LOG_RESNAME nvarchar (60) NULL
1,0,0:2006.10.29::ALTER TABLE CMS_SYSLOG ADD LOG_RECID bigint NULL
1,0,0:2006.10.29::ALTER TABLE CMS_SYSLOG ALTER COLUMN LOG_USERNAME nvarchar (30) NULL
1,0,0:2006.10.29::CREATE  INDEX [IX_CMS_SYSLOG_1] ON [dbo].[CMS_SYSLOG]([LOG_RESID], [LOG_RESNAME]) ON [PRIMARY]

//增加功能：支持资源和子资源之间的递规计算关系
1,0,1:2006.11.16::ALTER TABLE CMS_RESOURCE ADD RES_RECUR_FORMULA tinyint NULL

//修改字典模板的表结构
//1,0,0:2006.11.29::EXEC sp_rename 'CMS_DICT_TEMPLATE.[ID]', 'DICTT_ID', 'COLUMN'
//1,0,0:2006.11.29::EXEC sp_rename 'CMS_DICT_TEMPLATE.[RESID1]', 'DICTT_RESID', 'COLUMN'
//1,0,0:2006.11.29::ALTER TABLE CMS_DICT_TEMPLATE DROP COLUMN RESID2
//1,0,0:2006.11.29::ALTER TABLE CMS_DICT_TEMPLATE DROP COLUMN EDTID
//1,0,0:2006.11.29::ALTER TABLE CMS_DICT_TEMPLATE DROP COLUMN EDTTIME
//1,0,0:2006.11.29::ALTER TABLE CMS_DICT_TEMPLATE DROP COLUMN SHOWORDER

//修改记录模板的表结构
//1,0,0:2006.11.29::EXEC sp_rename 'CMS_RECTEMPLATE.[ID]', 'DTMPL_ID', 'COLUMN'
//1,0,0:2006.11.29::EXEC sp_rename 'CMS_RECTEMPLATE.[RESID1]', 'DTMPL_HOSTRESID', 'COLUMN'
//1,0,0:2006.11.29::EXEC sp_rename 'CMS_RECTEMPLATE.[RESID2]', 'DTMPL_DATARESID', 'COLUMN'
//1,0,0:2006.11.29::EXEC sp_rename 'CMS_RECTEMPLATE.[SHOWORDER]', 'DTMPL_SHOWORDER', 'COLUMN'
//1,0,0:2006.11.29::ALTER TABLE CMS_RECTEMPLATE DROP COLUMN EDTID
//1,0,0:2006.11.29::ALTER TABLE CMS_RECTEMPLATE DROP COLUMN EDTTIME

//修改虚拟组人员表结构
1,0,0:2006.11.29::EXEC sp_rename 'CMS_DEP_VIRTUAL.[ID]', 'VDEP_ID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_DEP_VIRTUAL.[SHOWORDER]', 'VDEP_SHOWORDER', 'COLUMN'
1,0,0:2006.11.29::ALTER TABLE CMS_DEP_VIRTUAL DROP COLUMN RESID1
1,0,0:2006.11.29::ALTER TABLE CMS_DEP_VIRTUAL DROP COLUMN RESID2
1,0,0:2006.11.29::ALTER TABLE CMS_DEP_VIRTUAL DROP COLUMN EDTID
1,0,0:2006.11.29::ALTER TABLE CMS_DEP_VIRTUAL DROP COLUMN EDTTIME

//修改邮件短信群发设置表结构
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH_BSEND.[ID]', 'BSEND_ID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH_BSEND.[SHOWORDER]', 'BSEND_SHOWORDER', 'COLUMN'
1,0,0:2006.11.29::ALTER TABLE CMS_MTSEARCH_BSEND DROP COLUMN RESID1
1,0,0:2006.11.29::ALTER TABLE CMS_MTSEARCH_BSEND DROP COLUMN RESID2
1,0,0:2006.11.29::ALTER TABLE CMS_MTSEARCH_BSEND DROP COLUMN EDTID
1,0,0:2006.11.29::ALTER TABLE CMS_MTSEARCH_BSEND DROP COLUMN EDTTIME

//修改多应用表的列表定义表结构
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH.[ID]', 'MTS_ID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH.[RESID1]', 'MTS_RESID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH.[RESID2]', 'MTS_DICTRESID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH.[EDTID]', 'MTS_EDTID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH.[EDTTIME]', 'MTS_EDTTIME', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH.[SHOWORDER]', 'MTS_SHOWORDER', 'COLUMN'

//修改多应用表的字段定义表结构
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH_COLDEF.[ID]', 'MTSCOL_ID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH_COLDEF.[RESID1]', 'MTSCOL_RESID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH_COLDEF.[EDTID]', 'MTSCOL_EDTID', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH_COLDEF.[EDTTIME]', 'MTSCOL_EDTTIME', 'COLUMN'
1,0,0:2006.11.29::EXEC sp_rename 'CMS_MTSEARCH_COLDEF.[SHOWORDER]', 'MTSCOL_SHOWORDER', 'COLUMN'
1,0,0:2006.11.29::ALTER TABLE CMS_MTSEARCH_COLDEF DROP COLUMN RESID2

//验证产品信息
1,0,0:2007.11.9::CREATE TABLE [dbo].[CMS_PRODINFO] ([PDINF_ID] [bigint] NOT NULL ,[PDINF_NAME] [nvarchar] (30) COLLATE Chinese_PRC_CI_AS NOT NULL ,[PDINF_VALUE] [nvarchar] (250) COLLATE Chinese_PRC_CI_AS NULL ) ON [PRIMARY]
1,0,0:2007.11.9::insert into CMS_PRODINFO values(239281689453,'CMSCD_LICENSE','6835A9C08D161ADCCD64BBCB0167AD2C25BD05F82D27AEEB7D31E731F39899CEC613AC20AFCB3333')
1,0,0:2007.11.9::insert into CMS_PRODINFO values(193960097222,'CMSCD_PRODID','01')
1,0,0:2007.11.9::insert into CMS_PRODINFO values(193960097111,'CMSCD_PRODNAME','企业数据流系统')
1,0,0:2007.11.9::insert into CMS_PRODINFO values(241524565102,'CMSCD_PRODUCT','94381F77E2DF175C498AD2E726FB3E90F360C721058BB046E13B840F683726BD9ABDFEFCD09A7AF4')
1,0,0:2007.11.9::insert into CMS_PRODINFO values(193960097333,'CMSCD_PRODVER','1.00')

1,0,0:2007.12.27::ALTER TABLE CMS_TABLE_DEFINE ADD CD_IS_SEARCH TINYINT 
1,0,0:2007.12.27::ALTER TABLE CMS_TABLE_INPUT ADD CI_BORDERSTYLE varchar(20) NULL

1,0,0:2008.10.23::alter table CMS_RESOURCE add EditRelTables tinyint

//2009.5.4 增加文档能够存放在多个数据库中的功能  CHENYU
1,0,0:2009.5.4::CREATE TABLE [Cms_DocumentCenter] ([DocHostName] [nvarchar] (200) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_ID] [bigint] NOT NULL ,[DOC2_RESIDS] [nvarchar] (200) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_CRTID] [nvarchar] (20) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_CRTTIME] [datetime] NULL ,[DOC2_EDTID] [nvarchar] (20) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_EDTTIME] [datetime] NULL ,[DOC2_FILE_TEXT] [ntext] COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_NAME] [nvarchar] (150) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_EXT] [nvarchar] (30) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_SIZE] [bigint] NULL ,[DOC2_COMPRESSED_SIZE] [bigint] NULL ,[DOC2_COMPRESSED_RATE] [tinyint] NULL ,[DOC2_COMMENTS] [nvarchar] (200) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_STATUS] [nvarchar] (6) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_CONVERTED] [tinyint] NULL ,[DOC2_SHARES] [int] NULL ,[DOC2_LCYC_ENABLE] [tinyint] NULL ,[DOC2_LCYC_EXPIRE_DATE] [smalldatetime] NULL ,[DOC2_LCYC_EXPIRE_DAYS] [int] NULL ,[DOC2_LCYC_LASTDO_TIME] [smalldatetime] NULL ,[DOC2_KEYWORDS] [nvarchar] (200) COLLATE Chinese_PRC_CI_AS NULL ,[DOC2_RESID1] [bigint] NULL ,[DOC2_RESID2] [bigint] NULL ,[DOC2_RESID3] [bigint] NULL ,[DOC2_RESID4] [bigint] NULL ,[DOC2_RESID5] [bigint] NULL ,CONSTRAINT [PK_Cms_DocumentCenter] PRIMARY KEY  CLUSTERED ([DOC2_ID])  ON [PRIMARY] ,CONSTRAINT [IX_Cms_DocumentCenter] UNIQUE  NONCLUSTERED ([DOC2_ID])  ON [PRIMARY] ) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

//2009.6.22 增加列表中的CHECKBOX  CHENYU
1,0,0:2009.6.22::ALTER TABLE CMS_RESOURCE ADD RES_SaveHis [tinyint]
1,0,0:2009.6.22::ALTER TABLE CMS_RESOURCE ADD RES_SHOWCHECKBOX [tinyint]
1,0,0:2009.6.22::ALTER TABLE CMS_RESOURCE ADD RES_RECCOUNT [int]

//2010.3.27 增加列表统计中的行高设置 CHENYU
1,0,0:2010.3.27::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_ROWHEIGHT [tinyint]
1,0,0:2010.3.27::ALTER TABLE CMS_MTSEARCH_REPORTTABLE ADD RPTTBL_ROWCOUNT [tinyint]


//需要删除表 CMS_TABLE_INPUTCUST (未加到数据库更新程序)
1,0,0:2010.6.2::DROP TABLE CMS_TABLE_INPUTCUST

//需要删除表 CMS_RECTEMPLATE (未加到数据库更新程序)
//需要删除表 CMS_DICT_TEMPLATE (未加到数据库更新程序)
1,0,0:2010.6.2::DROP TABLE CMS_RECTEMPLATE
1,0,0:2010.6.2::DROP TABLE CMS_DICT_TEMPLATE

//需要删除表 CMS_LOCK_RELATION(未加到数据库更新程序)
1,0,0:2010.6.2::DROP TABLE CMS_LOCK_RELATION

//增加表：CMS_FORMROUTER
1,0,0:2010.6.2::CREATE TABLE [CMS_FORMROUTER] ([ID] [int] IDENTITY (1, 1) NOT NULL ,[ResourceId] [bigint] NOT NULL ,[FormName] [nvarchar] (50) COLLATE Chinese_PRC_CI_AS NOT NULL ,[RouterValue] [nvarchar] (2000) COLLATE Chinese_PRC_CI_AS NULL ,CONSTRAINT [PK_CMS_FORMROUTER] PRIMARY KEY  CLUSTERED ([ResourceId],[FormName])  ON [PRIMARY]) ON [PRIMARY]

//2010-05-15 CHENYU 需要删除表 CMS_DAILYWORK (未加到数据库更新程序)
//2010-05-15 CHENYU 需要删除表 CMS_BIZALLOT (未加到数据库更新程序)
//2010-05-15 CHENYU 需要删除表 CMS_BIZALLOT_DEAL (未加到数据库更新程序)
1,0,0:2010.6.2::DROP TABLE CMS_DAILYWORK
1,0,0:2010.6.2::DROP TABLE CMS_BIZALLOT
1,0,0:2010.6.2::DROP TABLE CMS_BIZALLOT_DEAL
1,0,0:2011.3.3::DELETE FROM dbo.CMS_PRODINFO WHERE (PDINF_NAME='CMSCD_LICENSE' or PDINF_NAME='CMSCD_PRODUCT')
1,0,0:2011.3.4::alter   table   CMS_PRODINFO   drop   constraint  PK_CMS_PRODINFO
1,0,0:2011.3.4::alter   table   CMS_PRODINFO   add   constraint PK_CMS_PRODINFO  primary   key   (PDINF_ID) 
//标示文档存放方式
1,0,0:2011.8.11::alter   table   CMS_DOCUMENTCENTER   add   IsUpDirectory bit
//添加用户状态（0：启用  1：禁用）
1,0,0:2011.8.11::INSERT [CMS_TABLE_DEFINE] ([CD_ID],[CD_RESID],[CD_COLNAME],[CD_DISPNAME],[CD_TYPE],[CD_SIZE],[CD_IS_UNIQUE],[CD_IS_UNITE_UNIQUE],[CD_IS_READONLY],[CD_IS_NONULL],[CD_IS_UNEDITABLE],[CD_IS_UNMODIFIED],[CD_IS_SEARCH],CD_VALUE,CD_VALTYPE,CD_INT1,CD_INT2,CD_STR3,CD_STR4) VALUES ( 366393157531,1300,'Status','禁用',9,1,0,0,0,0,0,0,0,'是否禁用',12,0,0,1,0)
1,0,0:2011.8.11::INSERT [CMS_TABLE_SHOW] ([CS_RESID],[CS_COLNAME],[CS_SHOW_ORDER],[CS_SHOW_WIDTH],[CS_SHOW_ENABLE],[CS_ALIGN],[CS_RESINPID]) VALUES ( 1300,'Status',1,70,1,0,1300)
1,0,0:2011.8.11::alter table CMS_EMPLOYEE add  Status tinyint
1,0,0:2011.8.12::Update CMS_EMPLOYEE set [Status]=0 
1,0,0:2011.9.19::ALTER Table CMS_RESOURCE add RES_SERVERURL NVARCHAR(200)
1,0,0:2011.12.19::CREATE TABLE [FileLOG] ([UploadID] [bigint] NULL ,	[DOCID] [bigint] NULL ,	[CONTENT] [nvarchar] (100) COLLATE Chinese_PRC_CI_AS NULL ,	[FILEEXT] [nvarchar] (50) COLLATE Chinese_PRC_CI_AS NULL ,	[FileSize] [int] NULL ,	[filePath] [nvarchar] (200) COLLATE Chinese_PRC_CI_AS NULL )
//空资源链接
1,0,0:2012.1.31::ALTER Table CMS_RESOURCE add RES_EMPTYRESOURCEURL NVARCHAR(200)
//空资源链接打开方式
1,0,0:2012.1.31::ALTER Table CMS_RESOURCE add RES_EMPTYRESOURCETARGET NVARCHAR(200)
//设置字段链接
1,0,0:2012.2.8::Create table CMS_TABLE_COLURL(	CU_RESID   BIGINT NOT NULL,	CU_COLNAME   NVARCHAR(30) NOT NULL,	CU_URL   NVARCHAR(255),	CU_TARGET   NVARCHAR(20),	CU_PARAM   NVARCHAR(255),	ISENABLED   BIT,[CU_ID] [bigint]  NOT NULL ,	CONSTRAINT [PK_CMS_TABLE_COLURL] PRIMARY KEY  CLUSTERED 	(		[CU_ID] )  ON [PRIMARY] ) ON [PRIMARY] 
//字段链接 过滤条件设置
1,0,0:2012.2.12::alter table CMS_MTSEARCH add MTS_COLURLID BIGINT
1,0,0:2012.2.20::alter table dbo.CMS_RESOURCE add RES_IsView bit
//窗体类型，用于继承资源的窗体设置
1,0,0:2012.3.31::alter table CMS_FORMROUTER add FormType int 
1,0,0:2012.3.31::update   CMS_FORMROUTER set FormType=0
1,0,0:2012.3.31::delete from CMS_FORMROUTER where IsNull(FormName,'')=''
1,0,0:2012.3.31::alter table CMS_FORMROUTER alter column FormType int not null
1,0,0:2012.3.31::alter   table  dbo.CMS_FORMROUTER   drop   CONSTRAINT   PK_CMS_FORMROUTER 
1,0,0:2012.3.31::alter   table  dbo.CMS_FORMROUTER add  primary   key (ResourceId,FormName,FormType)
1,0,0:2012.4.6::ALTER TABLE dbo.CMS_FORMROUTER ADD FORMURL NVARCHAR(255)
1,0,0:2012.4.9::alter table dbo.CMS_FORMROUTER add FormCategory int
